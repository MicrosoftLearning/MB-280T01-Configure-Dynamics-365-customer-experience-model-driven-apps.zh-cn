---
lab:
  title: 实验室 2.1：创建计算字段和汇总字段
---

# 实验室 2.1：创建计算字段和汇总字段 

## 场景
Bellows College 是一所教育机构，拥有多个校园并开设有多门课程。 许多 Bellows College 的讲师和管理员都需要参加活动，并购买项目。 从以往看来，跟踪这些费用并非易事。
校园管理层希望通过向员工提供一种报告费用的数字方式，以实现费用报告系统的现代化。
理想情况下，他们希望用户在每次活动或采购后填写支出报表。 对于每个支出报表，他们希望用户能够添加单个支出行项。 他们已经开始处理此解决方案。 已创建“支出报表”表。 要求你接管并完成该项目。

## 概要实验室步骤
成功完成此实验室后，你将：
- 向现有表中添加新字段
- 创建汇总字段
- 创建计算字段

## 先决条件
- 完成模块 1 实验室 0 - 验证实验室环境和实验室 1.1，在其中导入了支出报告解决方案

## 开始前要考虑的事项
- 命名约定 - 请仔细输入名称。

## 练习 1：创建计算字段和汇总字段
**目标：** 在本练习中，在支出报表表中创建汇总和计算字段。

### 任务 #1：向“支出报表”表添加汇总字段
1. 如有必要，导航到 Power Apps 制作者门户。
2. 请确保在上一练习期间将支出报表解决方案导入到的环境中工作。
3. 使用左侧导航，选择“**解决方案**”。
4. 找到并选择“支出报表解决方案”。
5. 找到并打开“支出报表”表。
6. 在“架构组”下，选择“**列**”。
7. 选择“**+ 新建列**”。
8. 输入 *`Report Total`* 作为“显示名称”。
9. 选择“**货币**”作为“数据类型”。
10. 在“必填”中，选择“**可选**”。
11. 在“行为”字段中，选择“**汇总**”。
12. 选择“保存”按钮。 （需要先保存“列”，然后才能对其进行配置。）
13. 保存“列”后，应显示弹出窗口。 （如果收到弹出消息，可能需要允许弹出窗口。）
14. 在“相关实体”下，选择“**+添加相关实体**”。
15. 选择“**（支出行）支出报表**”。
16. 选择“复选标记”按钮以接受更改。
17. 在“聚合”下，选择“**+添加聚合**”。
18. 将“聚合函数”设置为“**Sum**”。
19. 将“聚合相关实体字段”设置为“**（支出行）支出金额**”。
20. 选择“绿色复选标记”，然后选择“**保存并关闭**”按钮。

### 任务 #2：向“支出报表”表添加 Power FX 公式计算字段
1. 如有必要，导航到 Power Apps 制作者门户。
2. 请确保在上一练习期间将支出报表解决方案导入到的环境中工作。
3. 使用左侧导航，选择“**解决方案**”。
4. 找到并选择“支出报表解决方案”。
5. 找到并打开“支出报表”表。
6. 在“架构组”下，选择“**列**”。
7. 选择“**+ 新建列**”。
8. 输入 *`Last Date for approval`* 作为“显示名称”。
9. 选择“**公式**”作为“数据类型”。
10. 输入以下公式：`DateAdd('Report Due Date',2)`
11. 将“格式”字段设置为“**仅限日期**”。
12. 选择“保存”按钮。 （需要先保存“列”，然后才能对其进行配置。）
